(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{23:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),o=a.n(s),i=(a(28),a(22)),c=a(21),l=a(7),u=a.n(l),m=a(8),v=a(9),d=a(2),p=a(3),h=a(5),f=a(4),g=a(6),k=function(){return r.a.createElement("header",null,r.a.createElement("h1",{className:"uk-text-center"},"Events Hunter"))},b=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",category:"",location:""},a.handleInfoData=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.getEvents(a.state)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"uk-padding-small",onSubmit:this.handleSubmit},r.a.createElement("fieldset",{className:"uk-fieldset"},r.a.createElement("div",{className:"uk-column-1-5@m uk-column-1-3@s uk-margin-small-top","uk-margin":"true"},r.a.createElement("div",{className:"uk-margin-small","uk-margin":"true"}," ",r.a.createElement("input",{name:"name",className:"uk-input",type:"text",placeholder:"Search by name",onChange:this.handleInfoData})),r.a.createElement("div",{className:"uk-margin-small","uk-margin":"true"}," ",r.a.createElement("input",{name:"location",className:"uk-input",type:"text",placeholder:"Search by city or address",onChange:this.handleInfoData})),r.a.createElement("div",{className:"uk-margin-small","uk-margin":"true"},r.a.createElement("select",{name:"category",className:"uk-select",type:"text",onChange:this.handleInfoData},r.a.createElement("option",{value:""},"-- Select category --"),this.props.categories.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name_localized)}))),r.a.createElement("div",{className:"uk-margin-small","uk-margin":"true"}," ",r.a.createElement("input",{className:"uk-button uk-button-danger",type:"submit",value:"Search events"})),r.a.createElement("div",{className:"uk-margin-small","uk-margin":"true"}," ",r.a.createElement("input",{className:"uk-button button-favorites",value:"favorites",type:"button",onClick:this.props.showFavorites})))))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={},a.addOrDeleteFavorites=function(){"a"===a.props.event.icon?a.props.addFavorites(a.props.event):a.props.deleteFavorites(a.props.event)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"validateTextDescription",value:function(){var e=this.props.event.description.text;return e&&(e=e.length>250?e.substring(0,230).concat("..."):null),e&&0!==e.length||(e="No description information."),e}},{key:"convertDateFormat",value:function(e,t){var a=e.slice(0,10).split("-").reverse().join("-"),n=t.slice(0,10).split("-").reverse().join("-");return a===n?r.a.createElement("span",null,"Date: ",a):r.a.createElement("span",null,"Date: from ",a," to ",n)}},{key:"render",value:function(){return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"uk-card-small uk-card-default uk-position-relative"},r.a.createElement("i",{className:"a"===this.props.event.icon?"fas fa-plus uk-position-absolute":"fas fa-heart uk-position-absolute",title:"Add to favorites",onClick:this.addOrDeleteFavorites}),r.a.createElement("div",{className:"uk-card-media-top uk-flex uk-flex-center"},this.props.event.logo?r.a.createElement("img",{src:this.props.event.logo.url,alt:this.props.event.name}):null),r.a.createElement("div",{className:"uk-card-body uk-flex uk-flex-column uk-flex-middle uk-flex-between"},r.a.createElement("h3",{className:"uk-card-title"},this.props.event.name.text),r.a.createElement("p",null,this.validateTextDescription()),r.a.createElement("div",null,r.a.createElement("p",{className:"uk-text-bold"},this.convertDateFormat(this.props.event.start.local,this.props.event.end.local)),r.a.createElement("p",{className:"uk-text-bold"},"Location: ",this.props.event.venue.address.city,", ",this.props.event.venue.address.country))),r.a.createElement("div",{className:"uk-card-footer"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.event.url,className:"uk-button uk-button-secondary"},"More information"))))}}]),t}(n.Component),y=function(e){var t=e.events,a=e.addFavorites,n=e.deleteFavorites;return r.a.createElement("div",{className:"uk-child-width-1-2@s uk-child-width-1-3@m uk-child-width-1-4@l","uk-grid":"true","uk-height-match":"target: .uk-card-body"},t.map(function(e){return r.a.createElement(E,{key:e.id,event:e,addFavorites:a,deleteFavorites:n})}))},w=a(10),O=a.n(w),N={categories:"".concat("https://www.eventbriteapi.com/v3/","categories/?token=").concat("H3XNKDXWLEAP3RPVC4X6"),events:function(e){return"".concat("https://www.eventbriteapi.com/v3/","events/search/?expand=venue&q=").concat(e.name,"&categories=").concat(e.category,"&location.address=").concat(e.location,"&sort_by=").concat("date","&token=").concat("H3XNKDXWLEAP3RPVC4X6")}};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var x=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={categories:[],events:[],loading:!1,searchIsDone:!1,favorites:[],showFavorites:!1},a.getCategories=Object(v.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(N.categories);case 2:t=e.sent,a.setState(F({},a.state,{categories:t.data.categories}));case 4:case"end":return e.stop()}},e)})),a.getEvents=function(){var e=Object(v.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(F({},a.state,{loading:!0})),e.next=3,O()(N.events(t));case 3:(n=e.sent).data.events.forEach(function(e){var t=Object(c.a)("a",1);e.icon=t[0]}),a.state.favorites&&a.state.favorites.forEach(function(e){n.data.events.forEach(function(t){e.id===t.id&&(t.icon="f")})}),a.setState(F({},a.state,{events:n.data.events,loading:!1,searchIsDone:!0,showFavorites:!1}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addFavorites=function(e){e.icon="f",a.setState(F({},a.state,{favorites:[].concat(Object(i.a)(a.state.favorites),[e])}))},a.deleteFavorites=function(e){e.icon="a";var t=a.state.favorites.filter(function(t){return t.id!==e.id});a.setState(F({},a.state,{favorites:t}))},a.showFavorites=function(){a.setState(F({},a.state,{showFavorites:!0}))},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getCategories();var e=localStorage.getItem("favorites");this.setState({favorites:e?JSON.parse(e):[]})}},{key:"componentDidUpdate",value:function(){localStorage.setItem("favorites",JSON.stringify(this.state.favorites))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(k,null),r.a.createElement(b,{categories:this.state.categories,getEvents:this.getEvents,showFavorites:this.showFavorites}),r.a.createElement("div",{className:"uk-container-fluid uk-margin"},this.state.loading?r.a.createElement("div",{className:"uk-flex uk-flex-column center uk-margin-medium-top"},r.a.createElement("div",{"uk-spinner":"ratio: 3"}),r.a.createElement("p",null,"Loading...")):r.a.createElement(y,{events:this.state.showFavorites?this.state.favorites:this.state.events,addFavorites:this.addFavorites,deleteFavorites:this.deleteFavorites}),this.state.searchIsDone&&0===this.state.events.length&&!this.state.loading?r.a.createElement("p",{className:"uk-position-center uk-margin-medium-top"},"There are no events."):null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.21efb227.chunk.js.map